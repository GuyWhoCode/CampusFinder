<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin View</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./adminStyle.css">
  </head>
  <style>
  </style>
  <body>
    <div id="headerBar">
        <br>
        <svg xmlns="http://www.w3.org/2000/svg" id="homePage" width="32px" fill="currentColor" class="bi bi-house-fill pointerElm" viewBox="0 0 16 16" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Home"><path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/><path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/></svg>
        <h1>Admin Dashboard</h1>
    </div>
    <div class="grid-container">
      <div class="item1" id= "SearchTeacherbox">Search For Existing Teacher
        <form id="searchTeacher">
          <input class="form-control form-control-lg" list="teacherNames" id="teacherAutocomplete" placeholder="Teacher Name">
        </form>
        <datalist id="teacherNames"></datalist>
        <br>
        Update User Permissions
        <form id="addAdminForm">
          <input class="form-control form-control-lg" type="text" placeholder="placeholder@email.com" id="adminEmail" autocomplete="off">
          <button class="btn btn-primary" id="submitUserChange">Submit</button>
        </form>

      </div>

      <div class="item2" id= "AddTeacherbox">Add A New Teacher
        <form id = "newTeacher">
          <div class="container">
            <p class="fs-3">Please fill in this form to add or replace a teacher</p>

            <label for="lastName"><b>Last Name</b></label>
            <input type="text" placeholder="Enter " name="last name" id="lastName" autocomplete="off" required/><br>

            <label for="firstName"><b>First Name</b></label>
            <input type="text" placeholder="First Name" id="firstName" autocomplete="off" required><br>

            <label for="rm#"><b>Room Number</b></label>
            <input type="text" placeholder="XXXX" name="rm#" id="rm#" autocomplete="off" required><br>

            <label for= "ext#"><b>Extension</b></label>
            <input type ="text" placeholder= "Ext." name="ext#" id="ext#" autocomplete="off" required><br>

            <label for="pic"><b>Teacher Picture</b></label>
            <input type="file" for="pic" name="pic" id="pic" required><br>
            <img alt="Preview Image" id="showcaseUploadedImage">

            <button type="submit" id="register">Register</button><br>
          </div>
        </form>
      </div>


      <div class="item4 accordion" id= "Documentationbox">
        Documentation

          <section class="accordion-item">
            <p class="accordion-header fs-1" id="autofillTeacherTitle">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#autofillTeacherInfo" aria-expanded="true" aria-controls="autofillTeacherInfo">
                Searching for Existing Teacher
              </button>
            </p>
            <div id="autofillTeacherInfo" class="accordion-collapse collapse" aria-labelledby="autofillTeacherTitle" data-bs-parent="#Documentationbox">
              <div class="accordion-body fs-5">
                Changes to an existing teacher's room number, image, or name can be made easier with this feature. The text input box is equipped with the Teacher Autocomplete Feature seen in the search bar on the main website. After selecting a teacher from the autocomplete input, the page will automatically fill in the corresponding text boxes with the stored information about that teacher from the database. Appropriate changes can then be made. <br>
                New entries into the database are done by filling out the corresponding boxes. 
                <strong>Warning: This page will NOT save any current changes made before submitting.</strong>
              </div>
            </div>
          </section>

          <section class="accordion-item">
            <p class="accordion-header fs-1" id="userChangeTitle">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#changeUserPermsInfo" aria-expanded="false" aria-controls="changeUserPermsInfo">
                Changing User Permissions
              </button>
            </p>
            <div id="changeUserPermsInfo" class="accordion-collapse collapse" aria-labelledby="userChangeTitle" data-bs-parent="#Documentationbox">
              <div class="accordion-body fs-5">
                To grant users the ability to access this page and change permissions, use the text input box below the Search for Existing Teacher and input that person's email. Press Enter after the The program will search for that person's user profile and update it. The person must create an account with Campus Finder by logging in with Google. If that person has never logged in before, the operation will fail.  
              </div>
            </div>
          </section>

          <section class="accordion-item">
            <p class="accordion-header fs-1" id="inputInfo">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#inputTeacherInfo" aria-expanded="false" aria-controls="inputTeacherInfo">
                Inputting Information
              </button>
            </p>
            <div id="inputTeacherInfo" class="accordion-collapse collapse" aria-labelledby="inputInfo" data-bs-parent="#Documentationbox">
              <div class="accordion-body fs-5">
                The last name and first name will be combined in the following format: Lastname, Firstname in the Autocomplete and Firstname Lastname in the search result. Inputting the Room Number will typically be in 4 numbers, marked with the placeholder of XXXX. An exception is granted for special rooms like Portable 1. 
              </div>
            </div>
          </section>

          <section class="accordion-item">
            <p class="accordion-header fs-1" id="adjustImage">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#adjustImageInfo" aria-expanded="false" aria-controls="adjustImageInfo">
                Adjusting Image Size
              </button>
            </p>
            <div id="adjustImageInfo" class="accordion-collapse collapse" aria-labelledby="adjustImage" data-bs-parent="#Documentationbox">
              <div class="accordion-body fs-5">
                Programs like Microsoft Paint, <a href="https://www.lunapic.com/" target="_blank">LunaPic</a>, <a href="https://www.gimp.org/" target="_blank">Gimp</a>, or any suitable alternative can be used to resize pictures. The picture does not need to be exactly 80 pixels by 80 pixels; otherwise it would lose resolution. It is recommended that the uploaded picture has a width of 80 pixels since the pictures on the school website have a resolution of 80x80.
              </div>
            </div>
          </section>

          <section class="accordion-item">
            <p class="accordion-header fs-1" id="contactHeading">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#contactInfo" aria-expanded="false" aria-controls="contactInfo">
                Additional Support
              </button>
            </p>
            <div id="contactInfo" class="accordion-collapse collapse" aria-labelledby="contactHeading" data-bs-parent="#Documentationbox">
              <div class="accordion-body fs-5">
                Further support can be found by contacting the email below.
                Support Email: thatguywhocodes@gmail.com
              </div>
            </div>
          </section>

      </div>
    </div>

    <div class="modal fade" tabindex="-1" aria-labelledby="changedUserModal" aria-hidden="true" id="changedUserModal">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="outputType"></h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id="outputMessage">
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
          </div>
      </div>
  </div>
  <!-- Delete Account Message with Bootstrap Modal -->


  <div class="modal fade" tabindex="-1" aria-labelledby="confirmUserChangeModal" aria-hidden="true" id="confirmUserChangeModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirm User Change</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="confirmUserChangeMsg">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary" id="userConfirmed">Confirm</button>
            </div>
        </div>
    </div>
  </div>
  <!-- Confirmation with Bootstrap Modal -->


    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js"
      defer
    ></script>
    <script src="./adminScript.js" type="module"></script>
    <script src="./picLib.js" type="module"></script>
  </body>
</html>
